{
  "workflows": {
    "workflows/pmdbs_spatial_geomx/cohort_analysis/cohort_analysis.wdl": {
      "key": "workflows/pmdbs_spatial_geomx/cohort_analysis/cohort_analysis.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "process": {
          "key": "process",
          "digest": "vw63bt3nqzcepfevgvvelyj4lgway25h",
          "tests": [
            {
              "inputs": {
                "preprocessed_rds_object": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.qc.rds",
                "cell_type_markers_list": "${input_resources_file_path}/celltype_marker_table.csv",
                "min_genes_detected_in_percent_segment": "0.01",
                "raw_data_path": "${geomx_cohort_analysis_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "processed_rds_object": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.processed.rds",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_rds"
                  ]
                },
                "segment_gene_detection_plot_png": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.segment_gene_detection_plot.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                },
                "gene_detection_rate_csv": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.gene_detection_rate.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "q3_negprobe_plot_png": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.q3_negprobe_plot.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                },
                "normalization_plot_png": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.normalization_plot.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        },
        "rds_to_adata": {
          "key": "rds_to_adata",
          "digest": "cezaagjm5vsnfdjv3gqpozrr6fdue5ho",
          "tests": [
            {
              "inputs": {
                "processed_rds_object": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.processed.rds",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "processed_adata_object": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.processed.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                }
              }
            }
          ]
        },
        "merge_and_prep": {
          "key": "merge_and_prep",
          "digest": "r22wxvpit4f42tlefpywmuxmjfjksld2",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${geomx_team_id}",
                "processed_adata_objects": [
                  "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_sample_id}.processed.h5ad",
                  "${geomx_input_file_path}/${cohort_analysis_workflow_name}/ASAP_SPATIAL_2.processed.h5ad"
                ],
                "n_top_genes": 3000,
                "n_comps": 30,
                "raw_data_path": "${geomx_cohort_analysis_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "merged_adata_object": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.merged.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "hvg_plot_png": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.hvg_dispersion.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "workflows/pmdbs_spatial_geomx/preprocess/preprocess.wdl": {
      "key": "workflows/pmdbs_spatial_geomx/preprocess/preprocess.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "fastq_to_dcc": {
          "key": "fastq_to_dcc",
          "digest": "m72cxjhaxli2qvinur4gtx3h4ssc3wxl",
          "tests": [
            {
              "inputs": {
                "sample_id": "${geomx_sample_id}",
                "fastq_R1s": [
                  "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/fastqs/DSP_1001660018649_A_A02_S2_L001_R1_001.fastq.gz",
                  "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/fastqs/DSP_1001660018649_A_A02_S2_L002_R1_001.fastq.gz"
                ],
                "fastq_R2s": [
                  "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/fastqs/DSP_1001660018649_A_A02_S2_L001_R2_001.fastq.gz",
                  "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/fastqs/DSP_1001660018649_A_A02_S2_L002_R2_001.fastq.gz"
                ],
                "geomx_config_ini": "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/artifacts/config_files/11FEB2025_HWTA_DNAstack_merged_config.ini",
                "raw_data_path": "${fastq_to_dcc_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "geomxngs_dcc_zip": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.DCC.zip",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_zip"
                  ]
                },
                "geomxngs_output_tar_gz": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.geomxngs_out_dir.tar.gz",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_gzip"
                  ]
                }
              }
            }
          ]
        },
        "dcc_to_rds": {
          "key": "dcc_to_rds",
          "digest": "lkpdtwioty2kqf442nmeehdjgbfbhqyc",
          "tests": [
            {
              "inputs": {
                "team_id": "${geomx_team_id}",
                "dataset_id": "${geomx_dataset_id}",
                "sample_id": "${geomx_sample_id}",
                "batch": "1",
                "geomxngs_dcc_zip": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.DCC.zip",
                "geomx_lab_annotation_xlsx": "gs://asap-raw-team-edwards-pmdbs-spatial-geomx-th/artifacts/annotation_files/cleaned_DNAstack_GeoMx_round_1_YH_20230719T2320_LabWorksheet.xlsx",
                "geomxngs_config_pkc": "${input_resources_file_path}/Hs_R_NGS_WTA_v1.0.pkc",
                "raw_data_path": "${dcc_to_rds_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "initial_rds_object": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.NanoStringGeoMxSet.rds",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_rds"
                  ]
                }
              }
            }
          ]
        },
        "qc": {
          "key": "qc",
          "digest": "5fpgcijtkp7qoquows3l5fflmnqytelw",
          "tests": [
            {
              "inputs": {
                "sample_id": "${geomx_sample_id}",
                "initial_rds_object": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.NanoStringGeoMxSet.rds",
                "min_segment_reads": 1000,
                "min_percent_reads_trimmed": 80,
                "min_percent_reads_stitched": 80,
                "min_percent_reads_aligned": 80,
                "min_saturation": 50,
                "min_neg_ctrl_count": 1,
                "max_ntc_count": 1000,
                "min_nuclei": 100,
                "min_segment_area": 5000,
                "raw_data_path": "${geomx_qc_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "qc_rds_object": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.qc.rds",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_rds"
                  ]
                },
                "segment_qc_summary_csv": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.segment_qc_summary.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "probe_qc_summary_csv": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.probe_qc_summary.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "gene_count_csv": {
                  "value": "${geomx_input_file_path}/${preprocess_workflow_name}/${geomx_sample_id}.gene_count.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "workflows/integrate_data/integrate_data.wdl": {
      "key": "workflows/integrate_data/integrate_data.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "integrate_sample_data": {
          "key": "integrate_sample_data",
          "digest": "5lont6mmtqj3ui5fph6klerbgg2zr7ng",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${geomx_team_id}",
                "processed_adata_object": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.merged.h5ad",
                "batch_key": "batch_id",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "integrated_adata_object": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.harmony_integrated.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                }
              }
            }
          ]
        },
        "cluster": {
          "key": "cluster",
          "digest": "mbbky7bgt36zoyn45k3dcedfbujmayla",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${geomx_team_id}",
                "integrated_adata_object": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.harmony_integrated.h5ad",
                "n_comps": 30,
                "leiden_resolution": "0.4",
                "raw_data_path": "${geomx_cohort_analysis_raw_data_path}",
                "workflow_info": "${geomx_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "clustered_adata_object": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.clustered.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "umap_cluster_plots_png": {
                  "value": "${geomx_input_file_path}/${cohort_analysis_workflow_name}/${geomx_team_id}.umap_cluster.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "workflows/pmdbs_spatial_visium/cohort_analysis/cohort_analysis.wdl": {
      "key": "workflows/pmdbs_spatial_visium/cohort_analysis/cohort_analysis.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "merge_and_plot_qc_metrics": {
          "key": "merge_and_plot_qc_metrics",
          "digest": "jrqp3sbj7hhycymcdtz6gsum3ingixhq",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${visium_team_id}",
                "preprocessed_adata_objects": [
                  "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.qc.h5ad",
                  "${visium_input_file_path}/${preprocess_workflow_name}/TEST_002_Rep2.qc.h5ad"
                ],
                "raw_data_path": "${visium_cohort_analysis_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "merged_adata_object": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.merged_adata_object.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "qc_plots_png": {
                  "value": [
                    "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.qc_violin.png",
                    "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.qc_dist.png"
                  ],
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        },
        "process": {
          "key": "process",
          "digest": "25xj3r6qo4doxodcpmn3pg2w2sxu3ihn",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${visium_team_id}",
                "merged_adata_object": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.merged_adata_object.h5ad",
                "filter_cells_min_counts": 5000,
                "filter_cells_min_genes": 3000,
                "filter_genes_min_cells": 10,
                "filter_mt_max_percent": "0.2",
                "normalize_target_sum": 10000,
                "n_top_genes": 3000,
                "n_comps": 30,
                "raw_data_path": "${visium_cohort_analysis_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "processed_adata_object": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.processed.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "hvg_plot_png": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.hvg_dispersion.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        },
        "plot_spatial": {
          "key": "plot_spatial",
          "digest": "f2sfl2233ndzz23lahzgg3lfqrxnf3di",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${visium_team_id}",
                "clustered_adata_object": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.clustered.h5ad",
                "raw_data_path": "${visium_cohort_analysis_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "spatial_scatter_plot_png": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.spatial_scatter.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "workflows/pmdbs_spatial_visium/cohort_analysis/spatial_statistics/spatial_statistics.wdl": {
      "key": "workflows/pmdbs_spatial_visium/cohort_analysis/spatial_statistics/spatial_statistics.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "spatially_variable_gene_analysis": {
          "key": "spatially_variable_gene_analysis",
          "digest": "xfxdyly4sngwk4uuauw6jrjevuvxr4qx",
          "tests": [
            {
              "inputs": {
                "cohort_id": "${visium_team_id}",
                "clustered_adata_object": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.clustered.h5ad",
                "raw_data_path": "${visium_cohort_analysis_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "final_adata_object": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.final_adata_object.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "moran_top_10_variable_genes_csv": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.moran_top_10_variable_genes.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "moran_top_3_variable_genes_spatial_scatter_plot_png": {
                  "value": "${visium_input_file_path}/${cohort_analysis_workflow_name}/${visium_team_id}.moran_top_3_variable_genes_spatial_scatter.png",
                  "test_tasks": [
                    "compare_file_basename",
                    "png_validator",
                    "image_validator"
                  ]
                }
              }
            }
          ]
        }
      }
    },
    "workflows/pmdbs_spatial_visium/preprocess/preprocess.wdl": {
      "key": "workflows/pmdbs_spatial_visium/preprocess/preprocess.wdl",
      "name": "",
      "description": "",
      "tasks": {
        "spaceranger_count": {
          "key": "spaceranger_count",
          "digest": "mfsx6smhjug4bxhnbvhkq6qijeal2oti",
          "tests": [
            {
              "inputs": {
                "sample_id": "${visium_sample_id}",
                "fastq_R1s": [
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L001_R1_001.fastq.gz",
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L002_R1_001.fastq.gz"
                ],
                "fastq_R2s": [
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L001_R2_001.fastq.gz",
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L002_R2_001.fastq.gz"
                ],
                "fastq_I1s": [
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L001_I1_001.fastq.gz",
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L002_I1_001.fastq.gz"
                ],
                "fastq_I2s": [
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L001_I2_001.fastq.gz",
                  "gs://asap-wdl-ci/subset_fastqs/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/subset_10000_CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_S2_L002_I2_001.fastq.gz"
                ],
                "visium_brightfield_image": "gs://asap-workflow-dev/pmdbs_spatial_visium_karen/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_image.tif",
                "visium_slide_serial_number": "V52Y23-098",
                "visium_capture_area": "B1",
                "spaceranger_reference_data": "${input_resources_file_path}/refdata-gex-mm10-2020-A.tar.gz",
                "visium_probe_set_csv": "gs://asap-workflow-dev/pmdbs_spatial_visium_karen/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium/CytAssist_FreshFrozen_Mouse_Brain_Post_Xenium_Rep1_probe_set.csv",
                "raw_data_path": "${spaceranger_count_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "raw_counts": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.raw_feature_bc_matrix.h5",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "filtered_counts": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.filtered_feature_bc_matrix.h5",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "molecule_info": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.molecule_info.h5",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                },
                "metrics_summary_csv": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.metrics_summary.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "spatial_outputs_tar_gz": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.spaceranger_spatial_outputs.tar.gz",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_gzip"
                  ]
                },
                "spatial_images": {
                  "value": [
                    "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.aligned_fiducials.jpg",
                    "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.detected_tissue_image.jpg",
                    "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.tissue_hires_image.png",
                    "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.tissue_lowres_image.png"
                  ],
                  "test_tasks": [
                    "compare_file_basename",
                    "image_validator"
                  ]
                },
                "scalefactors_json": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.scalefactors_json.json",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_json"
                  ]
                },
                "tissue_positions_csv": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.tissue_positions.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                },
                "spatial_enrichment_csv": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.spatial_enrichment.csv",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_empty_lines",
                    "check_comma_separated",
                    "count_columns"
                  ]
                }
              }
            }
          ]
        },
        "counts_to_adata": {
          "key": "counts_to_adata",
          "digest": "53a3lp274dgttbixvt4rohgnre4wj7o6",
          "tests": [
            {
              "inputs": {
                "team_id": "${visium_team_id}",
                "dataset_id": "${visium_dataset_id}",
                "sample_id": "${visium_sample_id}",
                "batch": "1",
                "spaceranger_spatial_tar_gz": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.spaceranger_spatial_outputs.tar.gz",
                "raw_data_path": "${counts_to_adata_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "initial_adata_object": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.initial_adata_object.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                }
              }
            }
          ]
        },
        "qc": {
          "key": "qc",
          "digest": "45nmxr6mcx6j2lcmhbh55w55r5tur7ut",
          "tests": [
            {
              "inputs": {
                "sample_id": "${visium_sample_id}",
                "initial_adata_object": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.initial_adata_object.h5ad",
                "raw_data_path": "${visium_qc_raw_data_path}",
                "workflow_info": "${visium_workflow_info}",
                "billing_project": "${billing_project}",
                "container_registry": "${container_registry}",
                "zones": "${zones}"
              },
              "output_tests": {
                "qc_adata_object": {
                  "value": "${visium_input_file_path}/${preprocess_workflow_name}/${visium_sample_id}.qc.h5ad",
                  "test_tasks": [
                    "compare_file_basename",
                    "check_hdf5"
                  ]
                }
              }
            }
          ]
        }
      }
    }
  },
  "engines": {
    "asap-cromwell": {
      "key": "asap-cromwell",
      "enabled": true,
      "name": ""
    }
  },
  "test_params": {
    "global_params": {
      "geomx_team_id": "team-edwards",
      "geomx_dataset_id": "DDS_SPATIAL_001",
      "geomx_sample_id": "ASAP_SPATIAL_1",
      "cohort_id": "asap-cohort",
      "geomx_workflow_name": "pmdbs_spatial_geomx",
      "geomx_workflow_version": "v1.0.0",
      "geomx_workflow_release": "https://github.com/ASAP-CRN/pmdbs-spatial-transcriptomics-wf/releases/tag/pmdbs_spatial_geomx_analysis-${visium_workflow_version}",
      "geomx_workflow_info": [
        [
          "${run_timestamp}",
          "${geomx_workflow_name}",
          "${geomx_workflow_version}",
          "${geomx_workflow_release}"
        ]
      ],
      "preprocess_workflow_name": "preprocess",
      "fastq_to_dcc_task_version": "1.0.0",
      "dcc_to_rds_task_version": "1.0.0",
      "geomx_qc_task_version": "1.0.0",
      "fastq_to_dcc_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${geomx_workflow_name}/${preprocess_workflow_name}/fastq_to_dcc/${fastq_to_dcc_task_version}",
      "dcc_to_rds_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${geomx_workflow_name}/${preprocess_workflow_name}/dcc_to_rds/${dcc_to_rds_task_version}",
      "geomx_qc_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${geomx_workflow_name}/${preprocess_workflow_name}/qc/${geomx_qc_task_version}",
      "cohort_analysis_workflow_name": "cohort_analysis",
      "geomx_cohort_analysis_workflow_version": "1.0.0",
      "geomx_cohort_analysis_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${geomx_workflow_name}/${cohort_analysis_workflow_name}/${geomx_cohort_analysis_workflow_version}/${run_timestamp}",
      "visium_team_id": "team-test",
      "visium_dataset_id": "DS_TEST_002",
      "visium_sample_id": "TEST_002_Rep1",
      "visium_workflow_name": "pmdbs_spatial_visium",
      "visium_workflow_version": "v1.0.0",
      "visium_workflow_release": "https://github.com/ASAP-CRN/pmdbs-spatial-transcriptomics-wf/releases/tag/pmdbs_spatial_visium_analysis-${visium_workflow_version}",
      "visium_workflow_info": [
        [
          "${run_timestamp}",
          "${visium_workflow_name}",
          "${visium_workflow_version}",
          "${visium_workflow_release}"
        ]
      ],
      "spaceranger_count_task_version": "1.0.0",
      "counts_to_adata_task_version": "1.0.0",
      "visium_qc_task_version": "1.0.0",
      "spaceranger_count_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${visium_workflow_name}/${preprocess_workflow_name}/spaceranger_count/${spaceranger_count_task_version}",
      "counts_to_adata_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${visium_workflow_name}/${preprocess_workflow_name}/counts_to_adata/${counts_to_adata_task_version}",
      "visium_qc_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${visium_workflow_name}/${preprocess_workflow_name}/qc/${visium_qc_task_version}",
      "visium_cohort_analysis_workflow_version": "1.0.0",
      "visium_cohort_analysis_raw_data_path": "gs://asap-wdl-ci/workflow_execution/${visium_workflow_name}/${cohort_analysis_workflow_name}/${visium_cohort_analysis_workflow_version}/${run_timestamp}",
      "run_timestamp": "2025-03-25T00-00-00Z",
      "billing_project": "dnastack-asap-parkinsons",
      "container_registry": "us-central1-docker.pkg.dev/dnastack-asap-parkinsons/workflow-images",
      "zones": "us-central1-c us-central1-f"
    },
    "engine_params": {
      "asap-cromwell": {
        "input_resources_file_path": "gs://asap-workflow-dev/workflow-resources",
        "geomx_input_file_path": "gs://asap-wdl-ci/pmdbs_spatial_geomx",
        "visium_input_file_path": "gs://asap-wdl-ci/pmdbs_spatial_visium"
      }
    }
  }
}